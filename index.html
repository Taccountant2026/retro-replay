<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Retro Replay — Catalog</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&display=swap" rel="stylesheet">
<link rel="shortcut icon" href="assets/logo.png" type="image/x-icon">
<style>
:root{
  --bg:#181b23;
  --panel:#22262f;
  --muted:#e3e7ed;
  --accent:#6db8ff;
  --panel-2:#2a2f3a;
  --card-border:#1463ff;
}
body{
  font-family:'Orbitron',sans-serif;
  background:var(--bg);
  color:var(--muted);
  margin:0; padding:0;
}
.wrap{ max-width:1200px; margin:0 auto; padding:2rem; }
header{
  display:flex; justify-content:space-between; align-items:center;
  flex-wrap: wrap; margin-bottom:2rem;
}
.logo{ height:120px; width:auto; }
nav{ display:flex; flex-wrap:wrap; gap:1rem; }
nav a{ color:var(--accent); text-decoration:none; font-weight:bold; transition:0.15s; }
nav a:hover, nav a.active{ color:#8ec5ff; text-decoration:underline; }
.hero{ text-align:center; margin-bottom:2rem; }
.hero h1{ font-size:2.5rem; color:var(--accent); margin-bottom:0.5rem; }
.hero p{ font-size:1.1rem; color:#cbd3dd; }
.section-title{ font-size:2rem; margin-bottom:1rem; color:var(--accent); text-align:center; position:relative; }
.section-title::after{
  content:""; display:block; width:60px; height:3px; background:var(--accent); margin:8px auto 0; border-radius:2px;
}
.product-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:1.5rem;
  margin-bottom:2rem;
}
.product-card{
  background:var(--panel);
  padding:1rem;
  border-radius:10px;
  border:1px solid rgba(109,184,255,0.1);
  text-align:center;
  display:flex; flex-direction:column;
  transition: transform 0.2s, box-shadow 0.2s;
}
.product-card:hover{ transform: translateY(-3px); box-shadow: 0 6px 18px rgba(0,0,0,0.4);}
.product-card img{ max-width:100%; margin-bottom:0.5rem; border-radius:6px; }
.product-card .name{ font-weight:600; margin-bottom:0.3rem; color:var(--muted); font-size:1.1rem; }
.product-card .price{ font-size:1.2rem; font-weight:bold; margin-bottom:0.5rem; color:#fff; }
.product-card p{ font-size:0.95rem; line-height:1.4; color:#cbd3dd; flex-grow:1; }
.product-actions{ margin-top:1rem; display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
.btn{
  display:inline-block;
  background:var(--panel-2);
  color:var(--muted);
  padding:0.6rem 1rem;
  border-radius:8px;
  text-decoration:none;
  font-weight:bold;
  border:1px solid rgba(255,255,255,0.03);
  cursor:pointer;
}
.btn:hover{ background:#33374a; }
.btn.small{ padding:0.4rem 0.6rem; font-size:0.95rem; }

.modal{
  position:fixed; left:0; top:0; right:0; bottom:0;
  background: rgba(0,0,0,0.6);
  display:none; align-items:center; justify-content:center; z-index:9999;
  padding:20px;
}
.modal.active{ display:flex; }
.modal-panel{
  width:100%; max-width:760px;
  background: linear-gradient(180deg, rgba(34,38,47,0.98), rgba(20,24,31,0.98));
  padding:20px;
  border-radius:10px;
  border:1px solid rgba(109,184,255,0.06);
}
.modal-panel h3{ color:var(--accent); margin-top:0; }
.upgrade-list{ display:flex; flex-direction:column; gap:10px; margin:10px 0 18px; }
.upgrade-item{ display:flex; justify-content:space-between; align-items:center; padding:10px; border-radius:8px; background: rgba(255,255,255,0.02); }
.upgrade-item label{ cursor:pointer; }
.upgrade-actions{ display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap; }
</style>
</head>
<body>
<div class="wrap">
<header>
  <img src="assets/logo.png" alt="Retro Replay logo" class="logo">
  <nav>
    <a href="index.html" class="active">Home</a>
    <a href="products.html">Products</a>
    <a href="mods-upgrades.html">Mods & Upgrades</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<div class="hero">
  <h1>Retro Replay PS2 Collection</h1>
  <p>Refurbished consoles, bundles, and mod upgrades — all in one place.</p>
</div>

<h2 class="section-title">Our Full Catalog</h2>

<section class="product-grid">
  <!-- Repeat your product cards here -->
</section>
</div>

<!-- Upgrade modal (use same as previous code) -->
<div id="upgradeModal" class="modal" role="dialog" aria-modal="true">
  <div class="modal-panel">
    <h3>Upgrade Options</h3>
    <p id="upgradeProduct" style="color:#cfe8ff;margin-bottom:8px;"><strong></strong></p>
    <div class="upgrade-list">
      <div class="upgrade-item"><label><input type="checkbox" name="upgrade" value="refurb" data-price="25"><strong>Refurbishment</strong> — +£25</label></div>
      <div class="upgrade-item"><label><input type="checkbox" name="upgrade" value="hdmi" data-price="18"><strong>HDMI Upgrade</strong> — +£18</label></div>
      <div class="upgrade-item"><label><input type="checkbox" name="upgrade" value="softmod" data-price="15"><strong>Softmod (FMCB)</strong> — +£15</label></div>
      <div class="upgrade-item"><label><input type="checkbox" name="upgrade" value="premium" data-price="55"><strong>Premium Bundle</strong> — +£55</label></div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <div style="color:#cbd3dd;">Total: £<span id="upgradeTotal">0</span></div>
      <div class="upgrade-actions">
        <button class="btn small alt" onclick="closeUpgradeModal()">Cancel</button>
        <button class="btn small" id="addToBasketBtn">Add to Basket</button>
        <button class="btn small" id="checkoutBtn">Checkout</button>
      </div>
    </div>
  </div>
</div>

<script>
let currentBasePrice=0,currentProductName='',cart=JSON.parse(localStorage.getItem('cart')||'[]');

function openUpgradeModal(btn){
  const card=btn.closest('.product-card');
  currentBasePrice=Number(card.dataset.base);
  currentProductName=card.dataset.name;
  document.getElementById('upgradeProduct').querySelector('strong').textContent=currentProductName+' — base £'+currentBasePrice;
  document.querySelectorAll('#upgradeModal input[name="upgrade"]').forEach(ch=>ch.checked=false);
  updateUpgradeTotal();
  document.getElementById('upgradeModal').classList.add('active');
}
function closeUpgradeModal(){ document.getElementById('upgradeModal').classList.remove('active'); }
function updateUpgradeTotal(){
  const checked=Array.from(document.querySelectorAll('#upgradeModal input[name="upgrade"]:checked'));
  const add=checked.reduce((sum,el)=>sum+Number(el.dataset.price||0),0);
  document.getElementById('upgradeTotal').textContent=(currentBasePrice+add).toFixed(0);
}
document.addEventListener('change', e=>{ if(e.target.name==='upgrade'){ updateUpgradeTotal(); } });
document.getElementById('upgradeModal').addEventListener('click', e=>{ if(e.target===document.getElementById('upgradeModal')) closeUpgradeModal(); });

// Add to basket
document.getElementById('addToBasketBtn').addEventListener('click', ()=>{
  const checked=Array.from(document.querySelectorAll('#upgradeModal input[name="upgrade"]:checked'));
  const upgrades=checked.map(ch=>({id:ch.value,price:Number(ch.dataset.price)}));
  cart.push({product:currentProductName,base:currentBasePrice,upgrades,total:Number(document.getElementById('upgradeTotal').textContent)});
  localStorage.setItem('cart',JSON.stringify(cart));
  alert(currentProductName+" added to basket!");
  closeUpgradeModal();
});
// Checkout
document.getElementById('checkoutBtn').addEventListener('click', ()=>{
  const checked=Array.from(document.querySelectorAll('#upgradeModal input[name="upgrade"]:checked'));
  const upgrades=checked.map(ch=>({id:ch.value,price:Number(ch.dataset.price)}));
  const total=Number(document.getElementById('upgradeTotal').textContent);
  const order=encodeURIComponent(JSON.stringify({product:currentProductName,base:currentBasePrice,upgrades,total}));
  window.location.href=`checkout.html?order=${order}`;
});
</script>
</body>
</html>
