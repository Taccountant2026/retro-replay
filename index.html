<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Retro Replay — Featuring PlayStation 2</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&display=swap" rel="stylesheet">
<link rel="shortcut icon" href="assets/logo.png" type="image/x-icon">

<style>
  :root{
    --bg:#181b23;
    --panel:#22262f;
    --muted:#e3e7ed;
    --accent:#6db8ff;
    --panel-2:#2a2f3a;
    --card-border:#1463ff;
  }

  html,body{height:100%}
  body { font-family: 'Orbitron', sans-serif; background: var(--bg); color: var(--muted); margin: 0; padding: 0; overflow-x: hidden; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
  .wrap { max-width:1200px; margin:0 auto; padding:2rem; position:relative; z-index:1; }
  header { display:flex; justify-content:space-between; align-items:center; flex-wrap: wrap; margin-bottom:2rem; position:relative; z-index:2; }
  .logo { height:120px; width:auto; z-index:2; }
  nav { display:flex; flex-wrap:wrap; justify-content:center; margin-top:0.5rem; gap:1rem; z-index:2; }
  nav a { color:var(--accent); text-decoration:none; font-weight:bold; transition:0.15s; }
  nav a:hover, nav a.active { text-decoration:underline; color:#8ec5ff; }
  .hero { text-align:center; margin-bottom:2rem; position:relative; z-index:2; min-height:400px; }
  .hero .logo { max-width:90%; height:auto; margin-bottom:1rem; position:relative; z-index:2; }
  .hero-secondary { max-width:50%; height:auto; display:block; margin:0 auto 1rem; position:relative; z-index:2; }
  .boot-caption { font-size:1rem; margin-top:0.5rem; position:relative; z-index:2; }
  .hero img.edge { position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; opacity:0.10; z-index:0; }

  .about-section { background:var(--panel); padding:2rem; border-radius:10px; margin-bottom:2rem; text-align:center; }
  .section-title { font-size:2rem; margin-bottom:1rem; color:var(--accent); }
  .about-section p { font-size:1.05rem; line-height:1.6; color:var(--muted); }

  .product-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1.5rem; position:relative; z-index:2; }
  .product-card { background:var(--panel); padding:1rem; border-radius:8px; text-align:center; display:flex; flex-direction:column; position:relative; border:1px solid rgba(255,255,255,0.02); }
  .product-card img { max-width:100%; margin-bottom:0.5rem; border-radius:4px; }
  .product-card .name { font-weight:600; margin-bottom:0.3rem; color:var(--muted); }
  .product-card .price { font-size:1.2rem; font-weight:bold; margin-bottom:0.5rem; color:#fff; }
  .product-card p { font-size:0.95rem; line-height:1.4; color: #cbd3dd; }
  .product-actions { margin-top:auto; display:flex; gap:8px; justify-content:center; align-items:center; padding-top:10px; }
  .btn { display:inline-block; background:var(--panel-2); color:var(--muted); padding:0.6rem 0.9rem; border-radius:8px; text-decoration:none; font-weight:bold; border:1px solid rgba(255,255,255,0.03); cursor:pointer; }
  .btn.alt { background:transparent; color:var(--accent); border:1px solid rgba(109,184,255,0.14); }
  .btn.small { padding:0.4rem 0.6rem; font-size:0.95rem; }

  /* Upgrade Modal */
  .modal { position:fixed; left:0; top:0; right:0; bottom:0; background:rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; z-index:9999; padding:20px; }
  .modal.active { display:flex; }
  .modal-panel { width:100%; max-width:760px; background: linear-gradient(180deg, rgba(34,38,47,0.98), rgba(20,24,31,0.98)); padding:20px; border-radius:10px; border:1px solid rgba(109,184,255,0.06); }
  .modal-panel h3 { color:var(--accent); margin-top:0; }
  .upgrade-list { display:flex; flex-direction:column; gap:10px; margin:10px 0 18px; }
  .upgrade-item { display:flex; justify-content:space-between; align-items:center; padding:10px; border-radius:8px; background: rgba(255,255,255,0.02); }
  .upgrade-actions { display:flex; gap:10px; justify-content:flex-end; }

  footer { text-align:center; font-size:0.9rem; margin-top:2.5rem; color:#9aa9bf; }
</style>
</head>
<body>

<div class="ambient" aria-hidden="true"></div>

<div class="wrap">

<header>
  <img src="assets/logo.png" alt="Retro Replay logo" class="logo">
  <nav aria-label="Main navigation">
    <a href="index.html">Home</a>
    <a href="services.html">Services</a>
    <a href="histroy.html">PS2 History</a>
    <a href="buying-guide.html">Buying Guide</a>
    <a href="products.html">Products</a>
    <a href="mods-upgrades.html">Mods & Upgrades</a>
    <a href="how-we-refurbish.html">How We Refurbish</a>
    <a href="trade-in.html">Trade-In</a>
    <a href="delivery.html">Shipping & Delivery</a>
    <a href="warranties.html">Warranties</a>
    <a href="faq.html">FAQ</a>
    <a href="contact.html">Contact</a>
    <a href="checkout.html">Checkout</a>
  </nav>
</header>

<section class="hero" aria-label="Hero">
  <img src="assets/nature-3340430_1280.jpg" alt="" class="edge" aria-hidden="true">
  <img class="logo" src="assets/logo.png" alt="Retro Replay Logo">
  <div class="subtag" style="color:#bcdcff;margin-top:6px;">Featuring</div>
  <img class="hero-secondary" src="assets/PLAYSTATION_LOGO_EDITED.png" alt="PlayStation Logo">
  <div class="boot-caption">Classic PS2 experience — refurbished consoles & curated bundles</div>
</section>

<section class="about-section" aria-labelledby="welcome-title">
  <h2 id="welcome-title" class="section-title">Welcome to Retro Replay</h2>
  <p>Dive into the iconic world of PlayStation 2! Refurbished consoles, homebrew-ready modifications, and curated collections of retro games.</p>
</section>

<section class="product-grid" aria-label="Products">

  <!-- Product cards preserved exactly like original code -->
  <div class="product-card" aria-labelledby="p1-name">
    <img src="assets/PS2_REFURBED_BUNDLE.jpg" alt="Refurbished PS2 Fat">
    <div class="name" id="p1-name">Refurbished PS2 Fat</div>
    <div class="price">£150</div>
    <p>Fully refurbished PS2 Fat console, cleaned, tested, and cosmetically restored for reliable performance.</p>
    <div class="product-actions">
      <button class="btn" onclick="openUpgradeModal('Refurbished PS2 Fat',150,'paypal-ps2fat')">Choose Upgrades</button>
      <div id="paypal-ps2fat"></div>
    </div>
  </div>

  <div class="product-card" aria-labelledby="p2-name">
    <img src="assets/Console_Bundle.jpg" alt="Plug & Play Bundle">
    <div class="name" id="p2-name">Plug & Play Bundle</div>
    <div class="price">£185</div>
    <p>Includes console, controller, AV cables, and curated games — ready to play instantly.</p>
    <div class="product-actions">
      <button class="btn" onclick="openUpgradeModal('Plug & Play Bundle',185,'paypal-bundle')">Choose Upgrades</button>
      <div id="paypal-bundle"></div>
    </div>
  </div>

  <div class="product-card" aria-labelledby="p3-name">
    <img src="assets/PS2_CONSOLE_ONLY_FRONT_FLAT.png" alt="PS2 Tested Console">
    <div class="name" id="p3-name">PS2 Tested Console</div>
    <div class="price">£95</div>
    <p>Tested console for reliable gaming or modding. Fully verified and ready to play.</p>
    <div class="product-actions">
      <button class="btn" onclick="openUpgradeModal('PS2 Tested Console',95,'paypal-tested')">Choose Upgrades</button>
      <div id="paypal-tested"></div>
    </div>
  </div>

  <div class="product-card" aria-labelledby="p4-name">
    <img src="assets/PS2_MODDED_REAR.jpg" alt="Modded PS2">
    <div class="name" id="p4-name">Modded Bundle (HDD)</div>
    <div class="price">£250</div>
    <p>Professionally modded PS2 bundle with HDD and homebrew support. Ready-to-go library included.</p>
    <div class="product-actions">
      <button class="btn" onclick="openUpgradeModal('Modded Bundle (HDD)',250,'paypal-modded')">Choose Upgrades</button>
      <div id="paypal-modded"></div>
    </div>
  </div>

</section>

<!-- Upgrade Modal -->
<div id="upgradeModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="upgradeTitle">
  <div class="modal-panel" role="document">
    <h3 id="upgradeTitle">Upgrade Options</h3>
    <p id="upgradeProduct" style="color:#cfe8ff;margin-bottom:8px;">Select upgrades for: <strong></strong></p>
    <div class="upgrade-list">
      <div class="upgrade-item">
        <label><input type="checkbox" name="upgrade" value="refurb" data-price="25"> Refurbishment Package — +£25</label>
      </div>
      <div class="upgrade-item">
        <label><input type="checkbox" name="upgrade" value="hdmi" data-price="18"> HDMI Upgrade — +£18</label>
      </div>
      <div class="upgrade-item">
        <label><input type="checkbox" name="upgrade" value="softmod" data-price="15"> Softmod (FMCB) — +£15</label>
      </div>
      <div class="upgrade-item">
        <label><input type="checkbox" name="upgrade" value="premium" data-price="55"> Premium Bundle — +£55</label>
      </div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <div style="color:#cbd3dd;">Total: £<span id="upgradeTotal">0</span></div>
      <div class="upgrade-actions">
        <button class="btn alt" onclick="closeUpgradeModal()">Cancel</button>
        <button class="btn" id="applyUpgradesBtn">Apply & Continue</button>
      </div>
    </div>
  </div>
</div>

<footer>
  <p>© <strong>Retro Replay</strong> — Featuring PlayStation 2</p>
  <small>Not affiliated with Sony</small>
</footer>

<script src="https://www.paypal.com/sdk/js?client-id=AYXmDuhylfxtnuRz3E2EzoyXNO0HnxJAXr_DQauHlsoawJjLKel8W17luzhp1_52OlIh9qjJYDggdf8o&currency=GBP"></script>

<script>
// PayPal Buttons
const products = [
  ['paypal-ps2fat','Refurbished PS2 Fat','150'],
  ['paypal-bundle','Plug & Play Bundle','185'],
  ['paypal-tested','PS2 Tested Console','95'],
  ['paypal-modded','Modded Bundle (HDD)','250']
];
products.forEach(p=>{
  paypal.Buttons({
    style:{layout:'vertical',color:'gold',shape:'rect',label:'buynow'},
    createOrder:(data,actions)=>actions.order.create({
      purchase_units:[{description:p[1],amount:{currency_code:'GBP',value:p[2]}}]
    }),
    onApprove:(data,actions)=>actions.order.capture().then(()=>{window.location.href="checkout-success.html";}),
    onError:err=>{console.error(err);}
  }).render('#'+p[0]);
});

// Upgrade Modal Logic
let currentBasePrice=0,currentProductName='',currentTargetPayPalId='';
function openUpgradeModal(name,base,paypalId){
  currentBasePrice=Number(base); currentProductName=name; currentTargetPayPalId=paypalId;
  document.getElementById('upgradeProduct').querySelector('strong').textContent = name+' — base £'+base;
  document.querySelectorAll('#upgradeModal input[name="upgrade"]').forEach(ch=>ch.checked=false);
  updateUpgradeTotal(); document.getElementById('upgradeModal').classList.add('active');
}
function closeUpgradeModal(){ document.getElementById('upgradeModal').classList.remove('active'); }
function updateUpgradeTotal(){
  const checked = Array.from(document.querySelectorAll('#upgradeModal input[name="upgrade"]:checked'));
  const add = checked.reduce((sum,el)=>sum+Number(el.dataset.price||0),0);
  document.getElementById('upgradeTotal').textContent=(currentBasePrice+add).toFixed(0);
}
document.addEventListener('change',e=>{if(e.target.name==='upgrade')updateUpgradeTotal();});
document.getElementById('applyUpgradesBtn').addEventListener('click',()=>{
  const checked=Array.from(document.querySelectorAll('#upgradeModal input[name="upgrade"]:checked'));
  const upgrades = checked.map(ch=>({id:ch.value,price:ch.dataset.price}));
  const total = document.getElementById('upgradeTotal').textContent;
  closeUpgradeModal();
  const confirmMsg=`You chose ${upgrades.length} upgrade(s). Final price: £${total}.\n\nPress OK to confirm via contact page or Cancel to continue browsing.`;
  if(confirm(confirmMsg)){
    const q=encodeURIComponent(JSON.stringify({product:currentProductName,base:currentBasePrice,upgrades}));
    window.location.href=`contact.html?order=${q}`;
  }
});
document.getElementById('upgradeModal').addEventListener('click',e=>{if(e.target===document.getElementById('upgradeModal')) closeUpgradeModal();});
</script>

</body>
</html>
